# LLM 기반 ESG 중심 포트폴리오 최적화 서비스 📊🌱

이 저장소는 **LLM 기반 ESG 중심 포트폴리오 최적화 서비스** 프로젝트를 다룹니다. ESG(환경, 사회, 지배구조) 기준과 고급 포트폴리오 최적화 기법을 통합하여 사용자에게 맞춤형 ESG 기반 투자 포트폴리오를 제공합니다. 대형 언어 모델(LLM)을 활용하여 텍스트 데이터를 처리하고 평가함으로써, 투자자는 기업의 ESG 점수를 분석하고 자신의 선호도에 따라 최적화된 포트폴리오를 생성할 수 있습니다.

---

## 프로젝트 소개  
**KWU 8th 산학협력 SW 프로젝트 & AI 융합 졸업 프로젝트**  
- **지도 교수**: 조민수 교수 (광운대학교 정보융합학부)  
- **협력 기업**: 빌리언스랩 (표수진 박사)  
- **참여학생**: Team KWargs (백지헌(PM), 김나연, 장한재)  

---

## UI/UX 중심 프로젝트 소개  
**UI/UX 소개 영상을 보고 싶다면 아래의 ![YouTube](https://img.shields.io/badge/YouTube-%23FF0000.svg?style=for-the-badge&logo=YouTube&logoColor=white) 썸네일을 클릭하세요.**  

(*이 탭을 유지하려면 썸네일을 마우스 오른쪽 클릭 후 **‘새 탭에서 링크 열기’**를 선택하세요.*)  

[![영상 제목](https://img.youtube.com/vi/kHAtgLC4PJY/0.jpg)](https://www.youtube.com/watch?v=kHAtgLC4PJY)  

---

## 목차  
1. [프로젝트 개요](#프로젝트-개요)  
2. [주요 기능](#주요-기능)  
3. [설치 방법](#설치-방법)  
4. [사용 방법](#사용-방법)  
5. [프로젝트 구조](#프로젝트-구조)  
6. [향후 확장 가능성](#향후-확장-가능성)  
7. [라이선스](#라이선스)  

---

## 프로젝트 개요  
최근 ESG는 기업의 장기적인 지속 가능성과 안정성을 평가하는 데 중요한 지표로 자리 잡았습니다. 하지만 기존의 ESG 평가 방식은 비전문가 투자자에게 투명성과 접근성이 부족한 경우가 많습니다. 본 프로젝트는 LLM을 활용하여 텍스트 기반 평가를 수행하고 Black-Litterman 모델을 적용한 포트폴리오 최적화를 통해 이러한 문제를 해결합니다. 이를 통해 ESG 요소와 재무적 수익을 균형 있게 조율한 맞춤형 포트폴리오를 제공합니다.  

### 핵심 목표  
1. **기술 구현**: ESG 평가를 위한 LLM 기반 파이프라인을 개발하고 최적화된 포트폴리오를 생성.  
2. **사용자 중심 서비스**: 사용자 정의 기준과 선호도에 기반한 맞춤형 포트폴리오 제공.  

---

## 주요 기능  
1. **텍스트 데이터 수집 및 처리**  
   - `Selenium`과 `BeautifulSoup`을 사용하여 다양한 소스로부터 선택한 기업 관련 기사 수집.  
   - 데이터를 `MongoDB`에 저장하여 효율적으로 관리.  
   - 수집된 데이터를 전처리하며 기업명을 익명화하고 관련 없는 콘텐츠 필터링.  

2. **LLM 기반 ESG 점수 산출**  
   - OpenAI API를 사용하여 수집된 기사에서 ESG와 관련된 내용을 평가하고, ESG 요소와 감정에 따라 라벨링.  
   - 독립적인 ESG 평가를 위해 `KoElectra` 모델을 미세 조정하여 API 의존도를 줄임.  

3. **포괄적인 ESG 평가**  
   - 환경, 사회, 지배구조 요소의 가중치를 사용자가 조정하여 맞춤형 평가 제공.  
   - 재무 중심, ESG 중심, 균형 중심 투자 스타일에 따라 점수를 동적으로 조정.  
   - 다양한 ESG 평가 기관의 기준을 통합한 점수 모델을 활용하여 주요 기관 범위를 넘어선 기업 평가 가능.  

4. **Black-Litterman 모델을 활용한 포트폴리오 최적화**  
   - Yahoo Finance 데이터를 통해 선택한 기업의 시장 데이터와 공분산 행렬 계산.  
   - 사용자 ESG 조정 점수를 Black-Litterman 모델에 통합하여 사용자 선호도에 맞는 기대 수익 계산.  
   - `cvxopt`를 사용하여 최대 자산 비중과 같은 제약 조건을 고려한 최적화된 포트폴리오 비중 계산.  

5. **Streamlit 기반 사용자 인터페이스**  
   - 사용자 친화적인 인터페이스를 통해 ESG 선호도 입력 및 최적화된 포트폴리오 시각화.  
   - ESG 가중치와 투자 스타일을 조정할 수 있는 인터랙티브 슬라이더 제공.  
   - 예상 수익, 변동성, 샤프 비율과 같은 포트폴리오 메트릭 시각화.  

---

## 설치 방법  
1. **저장소 클론**  
   ```bash  
   git clone https://github.com/fairyofdata/LLM-ESG-POS.git  
   cd LLM-ESG-POS  
   ```  

2. **필요한 패키지 설치**  
   ```bash  
   pip install -r requirements.txt  
   ```  

3. **Streamlit 앱 실행**  
   ```bash  
   streamlit run app.py  
   ```  

---

## 사용 방법  
1. **데이터 수집**: 기업 티커와 데이터 소스를 구성하여 기사 수집.  
2. **ESG 선호도 설정**: Streamlit UI를 사용하여 환경, 사회, 지배구조 요소의 가중치를 설정.  
3. **투자 스타일 선택**: 재무 중심, ESG 중심, 균형 중심 포트폴리오 옵션 중 선택.  
4. **포트폴리오 결과 확인**: 포트폴리오 구성 및 예상 수익과 변동성과 같은 성과 지표 확인.  

---

## 프로젝트 구조  
![Architecture](https://github.com/fairyofdata/LLM.ESG.POS/blob/master/%EC%8B%9C%EC%8A%A4%ED%85%9C%20%EA%B5%AC%EC%84%B1%EB%8F%84.drawio.png)  

```plaintext  
├── data/                   # 데이터 및 ESG 점수 테이블  
├── src/                    # ESG 점수 산출 및 포트폴리오 최적화를 위한 소스 코드  
│   ├── data_processing.py   # LLM 기반 텍스트 처리  
│   ├── esg_scoring.py       # ESG 점수 산출 함수  
│   ├── portfolio_optimization.py  # Black-Litterman을 사용한 최적화  
│   └── ui/                  # Streamlit UI 코드  
├── app.py                  # 메인 애플리케이션 스크립트  
├── README.md               # 프로젝트 문서  
└── requirements.txt        # 종속성 목록  
```  

---

## 향후 확장 가능성  
1. **ESG 평가 확장**: 추가 ESG 평가 소스 통합 및 실시간 뉴스 업데이트 반영.  
2. **비상장 기업 지원**: LLM을 활용하여 스타트업 및 비상장 기업 평가 메커니즘 개발.  
3. **최적화 제약 조건 개선**: 포트폴리오 다각화를 위한 산업별 제약 조건 추가.  

---

## 라이선스  
이 프로젝트는 MIT 라이선스를 따릅니다. 자세한 내용은 [LICENSE](LICENSE) 파일을 참조하세요.  
